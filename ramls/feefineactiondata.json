{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "Fee/fine actions schema",
  "description": "Transactions or activities associated with a user fee/fine account",
  "type": "object",
  "properties": {
    "dateAction": {
      "description": "Date and time the transaction of the fine/fee was created",
      "type": "string",
      "format": "date-time",
      "x-fqm-visible-by-default": true,
      "x-fqm-essential": true
    },
    "typeAction": {
      "description": "Type of activity including the type of transaction",
      "type": "string",
      "x-fqm-values": [
        { "value": "Paid partially", "label": "Paid partially" },
        { "value": "Paid fully", "label": "Paid fully" },
        { "value": "Waived partially", "label": "Waived partially" },
        { "value": "Waived fully", "label": "Waived fully" },
        { "value": "Transferred partially", "label": "Transferred partially" },
        { "value": "Transferred fully", "label": "Transferred fully" },
        { "value": "Refunded partially", "label": "Refunded partially" },
        { "value": "Refunded fully", "label": "Refunded fully" },
        { "value": "Credited partially", "label": "Credited partially" },
        { "value": "Credited fully", "label": "Credited fully" },
        { "value": "Cancelled as error", "label": "Cancelled as error" }
      ],
      "x-fqm-visible-by-default": true,
      "x-fqm-essential": true
    },
    "comments": {
      "description": "Additional information entered as part of the activity or on this screen as a 'Staff info only' activity",
      "type": "string",
      "x-fqm-essential": true
    },
    "notify": {
      "description": "A flag to determine if a patron should be notified or not",
      "type": "boolean",
      "x-fqm-essential": true
    },
    "amountAction": {
      "description": "Amount of activity",
      "javaType": "org.folio.rest.domain.MonetaryValue",
      "type": "number",
      "x-fqm-visible-by-default": true,
      "x-fqm-essential": true
    },
    "balance": {
      "description": "Calculated amount of remaining balance based on original fee/fine and what has been paid/waived/transferred/refunded",
      "javaType": "org.folio.rest.domain.MonetaryValue",
      "type": "number",
      "x-fqm-visible-by-default": true,
      "x-fqm-essential": true
    },
    "transactionInformation": {
      "description": "Number or other transaction id related to payment",
      "type": "string"
    },
    "createdAt": {
      "description": "ID of the service point where the action was created",
      "$ref": "raml-util/schemas/uuid.schema",
      "x-fqm-essential": true,
      "x-fqm-joins-to-raw": [
        {
          "targetId": "1fdcc2e8-1ff8-4a99-b4ad-7d6bf564aec5",
          "targetField": "id",
          "type": "equality-cast-uuid",
          "direction": "left"
        }
      ]
    },
    "originalCreatedAt": {
      "description": "Original invalid (non-UUID) value of 'createdAt' moved here when UUID-validation was enabled for 'createdAt'",
      "type": "string"
    },
    "source": {
      "description": "Person who processed activity (from login information)",
      "type": "string",
      "x-fqm-essential": true
    },
    "paymentMethod": {
      "description": "Overall status of the action-setting",
      "type": "string",
      "x-fqm-visible-by-default": true,
      "x-fqm-essential": true
    },
    "accountId": {
      "description": "ID of the accounts",
      "$ref": "raml-util/schemas/uuid.schema",
      "x-fqm-essential": true,
      "x-fqm-joins-to": [
        {
          "targetModule": "mod-feesfines",
          "targetEntity": "accounts",
          "targetField": "id",
          "type": "equality-cast-uuid"
        }
      ]
    },
    "userId": {
      "description": "ID of the user",
      "$ref": "raml-util/schemas/uuid.schema",
      "x-fqm-essential": true,
      "x-fqm-joins-to-raw": [
        {
          "targetId": "bb058933-cd06-4539-bd3a-6f248ff98ee2",
          "targetField": "id",
          "type": "equality-cast-uuid",
          "direction": "left"
        },
        {
          "targetId": "f2615ea6-450b-425d-804d-6a495afd9308",
          "targetField": "id",
          "type": "equality-cast-uuid",
          "direction": "left"
        }
      ]
    },
    "id": {
      "description": "Fine/fee action id, UUID",
      "$ref": "raml-util/schemas/uuid.schema",
      "x-fqm-essential": true
    }
  },
  "additionalProperties": false,
  "required": ["accountId", "userId"]
}
